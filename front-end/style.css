/* Reset */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { width: 360px; height: auto; }
body { font: 13px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #1f2937; background: #fff; }
:root{
    --brand: #2563eb;
    --brand-600: #1d4ed8;
    /* Color-blind friendly: blue for safe, red for phishing */
    --safe: #0284c7; /* blue-600 */
    --warn: #d97706; /* orange-600 */
    --bad: #dc2626;  /* red-600 */
    --muted: #6b7280;
    --border: #e5e7eb;
    --card: #f9fafb;
}

.popup { padding: 12px; }
.top { display:flex; align-items:center; gap:10px; padding:8px 8px 6px; border-bottom:1px solid var(--border); }
.brand { width:28px; height:28px; border-radius:6px; }
.titles { display:flex; flex-direction:column; gap:2px; }
.titles h1 { font-size:14px; font-weight:600; }
.titles .subtitle { font-size:11px; color:var(--muted); }
.icon-btn { margin-left:auto; appearance:none; border:1px solid var(--border); background:#fff; color:#111; border-radius:6px; padding:4px 8px; cursor:pointer; }
.icon-btn:hover { background:var(--card); }

.content { padding:12px 4px; }
.muted { color: var(--muted); }
.hidden { display:none; }
.shown { display:flex; flex-direction:column; align-items:center; gap:8px; }

.spinner { width:28px; height:28px; border:3px solid #e5e7eb; border-top-color: var(--brand); border-radius:50%; animation: spin 0.9s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.result { display:block; }
.status-row { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.pill { font-size:11px; padding:2px 8px; border-radius:999px; background:#e5e7eb; color:#111; }
.pill.safe { background:#dbeafe; color:#1e3a8a; }
.pill.phishing { background:#fee2e2; color:#7f1d1d; }
.pill.unknown { background:#fef9c3; color:#854d0e; }

.gauge { --p:0; width:120px; height:120px; margin:8px auto 10px; position:relative; }
.gauge-ring { width:100%; height:100%; border-radius:50%; background:conic-gradient(var(--safe) calc(var(--p)*1%), #f3f4f6 0); }
.gauge-center { position:absolute; inset:10px; background:#fff; border-radius:50%; display:flex; align-items:center; justify-content:center; border:1px solid var(--border); }
.gauge-num { font-size:20px; font-weight:700; }

.url-box, .reasons-box { background:var(--card); border:1px solid var(--border); border-radius:8px; padding:8px; margin-top:8px; }
.label { display:block; font-size:11px; margin-bottom:4px; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.ellipsis { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.reasons { list-style: disc inside; color:#374151; }
.reasons li { margin:2px 0; }

.bottom { display:flex; align-items:center; justify-content:flex-end; gap:8px; padding:8px; border-top:1px solid var(--border); color:var(--muted); }
.link { color: var(--brand); text-decoration:none; }
.link:hover { text-decoration:underline; }
.sep { opacity:.5; }

/* Theme: state colors for gauge */
.result.phishing .gauge .gauge-ring { background: conic-gradient(var(--bad) calc(var(--p)*1%), #f3f4f6 0); }
.result.safe .gauge .gauge-ring { background: conic-gradient(var(--safe) calc(var(--p)*1%), #f3f4f6 0); }

/* Dark mode */
@media (prefers-color-scheme: dark) {
    body { background: #0b0f1a; color: #e5e7eb; }
    .icon-btn { background:#0b0f1a; color:#e5e7eb; border-color:#1f2937; }
    .top { border-color:#1f2937; }
    .bottom { border-color:#1f2937; }
    :root { --border:#1f2937; --card:#111827; --muted:#9ca3af; }
        .gauge-center { background:#0b0f1a; border-color:#1f2937; }
        .result.safe .gauge .gauge-ring { background: conic-gradient(var(--safe) calc(var(--p)*1%), #111827 0); }
        .result.phishing .gauge .gauge-ring { background: conic-gradient(var(--bad) calc(var(--p)*1%), #111827 0); }
}
